{{- $image := $.Page.Resources.GetMatch (.Get "src") -}}
{{- $alt := .Get "alt" -}}
{{- $caption := .Get "caption" -}}
{{- $width := .Get "width" | default "50%" -}}
{{- $position := .Get "position" | default "right" -}}


<div class="m-float-image m-float-image--{{ $position }}">
  {{- partial "image"
    (dict
    "image" $image
    "alt" $alt
    "caption" $caption
    "width" $width
    )
  -}}
  <div class="m-float-image__content">
    {{- .Inner | $.Page.RenderString -}}
  </div>
</div>
